<div class="row justify-content-center mt-5 px-3">
  <div class="col-md-10 d-grid gap-3">
    <h1 class="fs-2 text-center mb-4">Financeiro</h1>

    <div class="table-wrapper">
      <table class="custom-table">
        <thead>
          <tr>
            <th>DATA ENTRADA</th>
            <th>DATA SAÍDA</th>
            <th>HÓSPEDE</th>
            <th>QUARTO</th>
            <th>VALOR RESERVA</th>
            <th>VALORES ADICIONAIS</th>
            <th>TOTAL</th>
            <th>MÉTODO DE PAGAMENTO</th>
            <th>STATUS</th>
            <th>AÇÕES</th>
          </tr>
        </thead>

        <tbody>
          <tr *ngFor="let financeiro of financeiro$ | async">
            <td>{{ formatarData(financeiro.checkIn) }}</td>
            <td>{{ formatarData(financeiro.checkOut) }}</td>
            <td>{{ financeiro.guestName }}</td>
            <td>{{ financeiro.roomName }}</td>
            <td>{{ financeiro.reservationValue | currency:'BRL' }}</td>
            <td>{{ financeiro.additionalValue | currency:'BRL' }}</td>
            <td>{{ (financeiro.reservationValue + financeiro.additionalValue) | currency:'BRL' }}</td>
            <td>{{ financeiro.payment }}</td>
            <td>
              <span class="status"
                    [ngClass]="{
                      'status-finalizado': financeiro.status === 'Finalizado',
                      'status-pendente': financeiro.status === 'Pendente',
                      'status-andamento': financeiro.status === 'Em Andamento'
                    }">
                {{ financeiro.status }}
              </span>
            </td>
            <td>
              <div class="action-buttons d-flex flex-wrap justify-content-center gap-2">
                <button
                  mat-stroked-button
                  color="accent"
                  [disabled]="financeiro.status == 'Finalizado'"
                  (click)="toEdit(financeiro)"
                >
                <mat-icon>edit</mat-icon>
                  Editar
                </button>

                <button
                  mat-stroked-button
                  color="warn"
                  [disabled]="financeiro.status == 'Finalizado'"
                  (click)="checkoutReserva(financeiro)"
                >
                  Checkout
                </button>
              </div>
            </td>
          </tr>

          <tr *ngIf="(financeiro$ | async)?.length === 0">
            <td colspan="10" class="text-center no-data">Nenhum registro financeiro encontrado.</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
